<head>
<!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        </head>
        <body>
        <!-- Plotly chart will be drawn inside this DIV -->
        <div id="myDiv1"></div>
        <div id="myDiv2"></div>
        <div id="myDiv3"></div>
        <div id="myDiv4"></div>
        <script>
        Plotly.d3.csv('InternetIndicators.csv', function(err, rows){
              function unpack(rows, key) {
                  return rows.map(function(row) { return row[key]; });
              }

            var data1= [{
                type: 'choropleth',
                locationmode: 'country names',
                locations: unpack(rows, 'country'),
                z: unpack(rows, 'Broadband'),
                text: unpack(rows, 'country'),
                //autocolorscale: true
                colorscale: 'Portland'
                
            }];

            var layout1 = {
              title: 'Broadband Subscribers per 100 People',
              font: {
                  family: 'Courier New, monospace',
                  size: 18,
                  color: '#7f7f7f'
                },
                autosize: false,
                height: 540,
                width: 990,
              geo: {
                  projection: {
                      type: 'robinson'
                  },
              }
            };
              var data2= [{
                type: 'choropleth',
                locationmode: 'country names',
                locations: unpack(rows, 'country'),
                z: unpack(rows, 'Cells'),
                text: unpack(rows, 'country'),
                //autocolorscale: true
                colorscale: 'Portland'
            }];

            var layout2 = {
              title: 'Cell Phone Subscriptions per 100 People',
              font: {
                  family: 'Courier New, monospace',
                  size: 18,
                  color: '#7f7f7f'
                },
                autosize: false,
                height: 540,
                width: 990,
              geo: {
                  projection: {
                      type: 'robinson'
                  },
              
              }
            };
            var data3= [{
                type: 'choropleth',
                locationmode: 'country names',
                locations: unpack(rows, 'country'),
                z: unpack(rows, 'Servers'),
                text: unpack(rows, 'country'),
                //autocolorscale: true
                colorscale: 'Portland'
            }];

            var layout3 = {
              title: 'Internet Connected Servers per 10 Thousand People',
              font: {
                  family: 'Courier New, monospace',
                  size: 18,
                  color: '#7f7f7f'
                },
                autosize: false,
                height: 540,
                width: 990,
                geo: {
                  projection: {
                      type: 'robinson'
                  }
              }
            };
              var data4= [{
                type: 'choropleth',
                locationmode: 'country names',
                locations: unpack(rows, 'country'),
                z: unpack(rows, 'Exports'),
                text: unpack(rows, 'country'),
                colorscale: 'Portland'
            }];

            var layout4 = {
              title: 'High Tech Exports in 2017 USD',

              font: {
                  family: 'Courier New, monospace',
                  size: 18,
                  color: '#7f7f7f'
                },
                autosize: false,
                height: 540,
                width: 990,
                geo: {
                  projection: {
                      type: 'robinson'
                  }
              }
            };

        Plotly.d3
            .select('#layout-selector')
            .selectAll('option')
            .data(layout)
            .enter()
            .append('option')
            .text(function(d) {
              return d;
            })
            .attr('value', function(d) {
              return d;
        });
            Plotly.plot(myDiv1, data1, layout1, {showLink: false});
            Plotly.plot(myDiv2, data2, layout2, {showLink: false});
            Plotly.plot(myDiv3, data3, layout3, {showLink: false});
            Plotly.plot(myDiv4, data4, layout4, {showLink: false});
        });
        </script>
        </body>




<!--begin.rcode
summary(cars)
end.rcode-->



<!--begin.rcode fig.width=7, fig.height=6
plot(cars)
end.rcode-->

</html>
